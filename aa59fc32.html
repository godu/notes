<!DOCTYPE html><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><meta content="width=device-width, initial-scale=1" name="viewport" /><!--replace-start-0--><!--replace-start-5--><!--replace-start-8--><title>Theorem Solver - Godu&#39;s Zettelkasten</title><!--replace-end-8--><!--replace-end-5--><!--replace-end-0--><link href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.css" rel="stylesheet" /><link href="https://fonts.googleapis.com/css?family=Merriweather|Libre+Franklin|Roboto+Mono&amp;display=swap" rel="stylesheet" /><!--replace-start-1--><!--replace-start-4--><!--replace-start-7--><link href="https://raw.githubusercontent.com/srid/neuron/master/assets/neuron.svg" rel="icon" /><meta content="Arthur Weber" name="author" /><meta content="Z3 is a Satisfiability Modulo Theories (SMT) solver developed by Microsoft" name="description" /><link href="https://godu.github.io/notes/aa59fc32.html" rel="canonical" /><meta content="Theorem Solver" property="og:title" /><meta content="Godu&#39;s Zettelkasten" property="og:site_name" /><meta content="article" property="og:type" /><meta content="https://imgs.xkcd.com/comics/np_complete.png" property="og:image" /><meta content="aa59fc32" property="neuron:zettel-id" /><meta content="aa59fc32" property="neuron:zettel-slug" /><meta content="theorem solver" property="neuron:zettel-tag" /><meta content="z3" property="neuron:zettel-tag" /><script type="application/ld+json">[]</script><style type="text/css">body{background-color:#eeeeee !important;font-family:"Libre Franklin", serif !important}body .ui.container{font-family:"Libre Franklin", serif !important}body h1, h2, h3, h4, h5, h6, .ui.header, .headerFont{font-family:"Merriweather", sans-serif !important}body code, pre, tt, .monoFont{font-family:"Roboto Mono","SFMono-Regular","Menlo","Monaco","Consolas","Liberation Mono","Courier New", monospace !important}body div.z-index p.info{color:#808080}body div.z-index ul{list-style-type:square;padding-left:1.5em}body div.z-index .uplinks{margin-left:0.29999em}body .zettel-content h1#title-h1{background-color:rgba(224,57,151,0.1)}body nav.bottomPane{background-color:rgba(224,57,151,2.0e-2)}body div#footnotes{border-top-color:#e03997}body p{line-height:150%}body img{max-width:100%}body .deemphasized{font-size:0.94999em}body .deemphasized:hover{opacity:1}body .deemphasized:not(:hover){opacity:0.69999}body .deemphasized:not(:hover) a{color:#808080 !important}body div.container.universe{padding-top:1em}body div.zettel-view ul{padding-left:1.5em;list-style-type:square}body div.zettel-view .pandoc .highlight{background-color:#ffff00}body div.zettel-view .pandoc .ui.disabled.fitted.checkbox{margin-right:0.29999em;vertical-align:middle}body div.zettel-view .zettel-content .metadata{margin-top:1em}body div.zettel-view .zettel-content .metadata div.date{text-align:center;color:#808080}body div.zettel-view .zettel-content h1{padding-top:0.2em;padding-bottom:0.2em;text-align:center}body div.zettel-view .zettel-content h2{border-bottom:solid 1px #4682b4;margin-bottom:0.5em}body div.zettel-view .zettel-content h3{margin:0px 0px 0.4em 0px}body div.zettel-view .zettel-content h4{opacity:0.8}body div.zettel-view .zettel-content div#footnotes{margin-top:4em;border-top-style:groove;border-top-width:2px;font-size:0.9em}body div.zettel-view .zettel-content div#footnotes ol > li > p:only-of-type{display:inline;margin-right:0.5em}body div.zettel-view .zettel-content aside.footnote-inline{width:30%;padding-left:15px;margin-left:15px;float:right;background-color:#d3d3d3}body div.zettel-view .zettel-content .overflows{overflow:auto}body div.zettel-view .zettel-content code{margin:auto auto auto auto;font-size:100%}body div.zettel-view .zettel-content p code, li code, ol code{padding:0.2em 0.2em 0.2em 0.2em;background-color:#f5f2f0}body div.zettel-view .zettel-content pre{overflow:auto}body div.zettel-view .zettel-content dl dt{font-weight:bold}body div.zettel-view .zettel-content blockquote{background-color:#f9f9f9;border-left:solid 10px #cccccc;margin:1.5em 0px 1.5em 0px;padding:0.5em 10px 0.5em 10px}body div.zettel-view .zettel-content.raw{background-color:#dddddd}body .ui.label.zettel-tag{color:#000000}body .ui.label.zettel-tag a{color:#000000}body nav.bottomPane ul.backlinks > li{padding-bottom:0.4em;list-style-type:disc}body nav.bottomPane ul.context-list > li{list-style-type:lower-roman}body .footer-version img{-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);filter:grayscale(100%)}body .footer-version img:hover{-webkit-filter:grayscale(0%);-moz-filter:grayscale(0%);-ms-filter:grayscale(0%);-o-filter:grayscale(0%);filter:grayscale(0%)}body .footer-version, .footer-version a, .footer-version a:visited{color:#808080}body .footer-version a{font-weight:bold}body .footer-version{margin-top:1em !important;font-size:0.69999em}@media only screen and (max-width: 768px){body div#zettel-container{margin-left:0.4em !important;margin-right:0.4em !important}}body span.zettel-link-container span.zettel-link a{color:#e03997;font-weight:bold;text-decoration:none}body span.zettel-link-container span.zettel-link a:hover{background-color:rgba(224,57,151,0.1)}body span.zettel-link-container span.extra{color:auto}body span.zettel-link-container.errors{border:solid 1px #ff0000}body span.zettel-link-container.errors span.zettel-link a:hover{text-decoration:none !important;cursor:not-allowed}body [data-tooltip]:after{font-size:0.69999em}body div.tag-tree div.node{font-weight:bold}body div.tag-tree div.node a.inactive{color:#555555}body .tree.flipped{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-o-transform:rotate(180deg);transform:rotate(180deg)}body .tree{overflow:auto}body .tree ul.root{padding-top:0px;margin-top:0px}body .tree ul{position:relative;padding:1em 0px 0px 0px;white-space:nowrap;margin:0px auto 0px auto;text-align:center}body .tree ul::after{content:"";display:table;clear:both}body .tree ul:last-child{padding-bottom:0.1em}body .tree li{display:inline-block;vertical-align:top;text-align:center;list-style-type:none;position:relative;padding:1em 0.5em 0em 0.5em}body .tree li::before{content:"";position:absolute;top:0px;right:50%;border-top:solid 2px #cccccc;width:50%;height:1.19999em}body .tree li::after{content:"";position:absolute;top:0px;right:50%;border-top:solid 2px #cccccc;width:50%;height:1.19999em}body .tree li::after{right:auto;left:50%;border-left:solid 2px #cccccc}body .tree li:only-child{padding-top:0em}body .tree li:only-child::after{display:none}body .tree li:only-child::before{display:none}body .tree li:first-child::before{border-style:none;border-width:0px}body .tree li:first-child::after{border-radius:5px 0px 0px 0px}body .tree li:last-child::after{border-style:none;border-width:0px}body .tree li:last-child::before{border-right:solid 2px #cccccc;border-radius:0px 5px 0px 0px}body .tree ul ul::before{content:"";position:absolute;top:0px;left:50%;border-left:solid 2px #cccccc;width:0px;height:1.19999em}body .tree li div.forest-link{border:solid 2px #cccccc;padding:0.2em 0.29999em 0.2em 0.29999em;text-decoration:none;display:inline-block;border-radius:5px 5px 5px 5px;color:#333333;position:relative;top:2px}body .tree.flipped li div.forest-link{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-o-transform:rotate(180deg);transform:rotate(180deg)}</style><script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism.min.css" rel="stylesheet" /><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/plugins/autoloader/prism-autoloader.min.js"></script><!--replace-end-7--><!--replace-end-4--><!--replace-end-1--></head><body><div class="ui fluid container universe"><!--replace-start-2--><!--replace-start-3--><!--replace-start-6--><div class="ui text container" id="zettel-container" style="position: relative"><div class="zettel-view"><article class="ui raised attached segment zettel-content"><div class="pandoc"><h1 id="title-h1">Theorem Solver</h1><p>Z3 is a <a href="https://en.wikipedia.org/wiki/Satisfiability_modulo_theories">Satisfiability Modulo Theories (SMT)</a> solver developed by Microsoft</p><h2 id="motivation">Motivation</h2><p>SAT solvers are automatic and efficient.</p><p>A primary goal of research in Satisfiability Modulo Theories (SMT) is to create verification engines that can reason natively at a higher level of abstraction, while still retaining the speed and automation of today’s Boolean engines.</p><h2 id="first-order-logic">First-Order Logic</h2><p>Whereas the language of SAT solvers is Boolean logic, the language of SMT solvers id first-order logic.</p><p>The language includes :</p><ul><li>constant <span class="math inline">\(a \in S\)</span></li><li>function <span class="math inline">\(f(x) = f(y)\)</span></li><li>predicate symbols <span class="math inline">\(x + y &lt; z\)</span></li></ul><p>A theory is a set of sentences.</p><p>A theory <code>T</code> is:</p><ul><li><strong>valid</strong> if all sentences are true for all variable assignments.</li><li><strong>satisfiable</strong> if there exists some variables assignment such that all sentences are true.</li><li><strong>unsatisfiable</strong> if all sentences are false for all variable assignments.</li></ul><h2 id="conjecture">Conjecture</h2><h3 id="definition">Definition</h3><p>A conjecture is a proposition that suspected to be true but for which no proof or disproof has yet been found.</p><h3 id="examples">Examples</h3><h4 id="fermats-last-theorem"><a href="https://en.wikipedia.org/wiki/Fermat%27s_Last_Theorem">Fermat’s Last Theorem</a></h4><p>Conjectured by Pierre de Fermat in 1637 and proved in 1995 by Andrew Wiles.</p><p>There’re no three positive integers <code>a</code>, <code>b</code> and <code>c</code>, can satisfy the equation</p><p><span class="math display">$$
a^n + b^n = c^n
$$</span></p><p>for any integer value of <code>n</code> greater than two.</p><h4 id="four-color-theorem"><a href="https://en.wikipedia.org/wiki/Four_color_theorem">Four color theorem</a></h4><p>Conjectured by Francis Guthrie in 1852 and proved in 1976 by Kenneth Appel and Wolfgang Haken.</p><blockquote><p>The regions of any simple planar map can be colored with only four colors, in such a way that any two adjacent regions have different colors.</p></blockquote><h3 id="how-smt-could-help">How SMT could help</h3><p>SMT</p><pre><code class="smt language-smt">(declare-const p Bool)
(declare-const q Bool)
(declare-const r Bool)
(define-fun conjecture () Bool
 (=&gt; (and (=&gt; p q) (=&gt; q r))
  (=&gt; p r)))
(assert (not conjecture))
(check-sat)</code></pre><pre><code class="haskell language-haskell">import Data.SBV

_ = sat $ do
  p &lt;- sBool &quot;p&quot;
  q &lt;- sBool &quot;q&quot;
  r &lt;- sBool &quot;r&quot;

  let conjecture = ((p .=&gt; q) .&amp;&amp; (q .=&gt; r)) .=&gt; (p .=&gt; r)
  constrain $ sNot conjecture</code></pre><h3 id="np-completion-problem">NP-Completion problem</h3><p><img alt="XKCD 287" src="https://imgs.xkcd.com/comics/np_complete.png" /></p><p><span class="math display">$$
a, b, c, d, e, f \in \mathbb{N}
2.15a + 2.75b + 3.35c + 3.55d + 4.20e + 5.80f = 15.05
$$</span></p><pre><code class="smt language-smt">(declare-fun a () Int)
(declare-fun b () Int)
(declare-fun c () Int)
(declare-fun d () Int)
(declare-fun e () Int)
(declare-fun f () Int)
(assert (&gt;= a 0))
(assert (&gt;= b 0))
(assert (&gt;= c 0))
(assert (&gt;= d 0))
(assert (&gt;= e 0))
(assert (&gt;= f 0))
(assert
  (=
    (+
      (+
        (+
          (+
            (+
              (* 2.15 a)
              (* 2.75 b)
            )
            (* 3.35 c)
          )
          (* 3.55 d)
        )
        (* 4.20 e)
      )
      (* 5.80 f)
    )
    15.05
  )
)
(check-sat)
(get-model)</code></pre><h2 id="puzzle">Puzzle</h2><ul><li><a href="https://www.lri.fr/~conchon/PFA/PROJET/A_SAT-based_Sudoku_solver.pdf">Sudoku</a></li><li><a href="https://homes.cs.washington.edu/~emina/doc/nonograms.fdg17.pdf">Nonogram</a></li></ul></div><div class="metadata"><div class="date" title="Zettel date"><time datetime="2020-05-10">2020-05-10</time></div></div></article><nav class="ui attached segment deemphasized backlinksPane" id="neuron-backlinks-pane"><h3 class="ui header">Backlinks</h3><ul class="backlinks"><li><span class="zettel-link-container cf"><span class="zettel-link"><a href=".">Godu’s Zettlekasten</a></span></span><ul class="context-list" style="zoom: 85%;"></ul></li></ul></nav><nav class="ui attached segment deemphasized bottomPane" id="neuron-tags-pane"><div><span class="ui basic label zettel-tag" title="Tag">theorem solver</span><span class="ui basic label zettel-tag" title="Tag">z3</span></div></nav><nav class="ui bottom attached icon compact inverted menu pink" id="neuron-nav-bar"><!--replace-start-9--><a class="item" href="." title="Home"><i class="home icon"></i></a><!--replace-end-9--><a class="right item" href="impulse.html" title="Open Impulse"><i class="wave square icon"></i></a></nav></div></div><!--replace-end-6--><!--replace-end-3--><!--replace-end-2--><div class="ui center aligned container footer-version"><div class="ui tiny image"><a href="https://neuron.zettel.page"><img alt="logo" src="https://raw.githubusercontent.com/srid/neuron/master/assets/neuron.svg" title="Generated by Neuron 1.9.30.0" /></a></div></div></div></body></html>